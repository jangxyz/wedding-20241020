import{e as N,H as O,g as v,s as c,i as R,b,d as f,j as I,k as S,l as A,m as Y,h as y,n as k,P as C}from"./template.CBm1eiE_.js";import{m as M,o as P,t as V,c as $,p as j,v as W,a as q,f as z}from"./runtime.C0n2djTQ.js";import{a as B,r as T,h}from"./events.BBpaa9N7.js";import{r as F}from"./svelte-head.BbzcmD_Y.js";let D=!0;function X(t,e){(t.__t??(t.__t=t.nodeValue))!==e&&(t.nodeValue=t.__t=e)}function G(t,e){const s=e.anchor??e.target.appendChild(N());return H(t,{...e,anchor:s})}function Z(t,e){e.intro=e.intro??!1;const s=e.target,u=y,l=f;try{for(var r=s.firstChild;r&&(r.nodeType!==8||r.data!==O);)r=r.nextSibling;if(!r)throw v;c(!0),R(r),b();const d=H(t,{...e,anchor:r});if(f===null||f.nodeType!==8||f.data!==I)throw S(),v;return c(!1),d}catch(d){if(d===v)return e.recover===!1&&M(),A(),Y(s),c(!1),G(t,e);throw d}finally{c(u),R(l),F()}}const i=new Map;function H(t,{target:e,anchor:s,props:u={},events:l,context:r,intro:d=!0}){A();var g=new Set,m=a=>{for(var o=0;o<a.length;o++){var n=a[o];if(!g.has(n)){g.add(n);var w=C.includes(n);e.addEventListener(n,h,{passive:w});var E=i.get(n);E===void 0?(document.addEventListener(n,h,{passive:w}),i.set(n,1)):i.set(n,E+1)}}};m(P(B)),T.add(m);var _=void 0,L=V(()=>($(()=>{if(r){j({});var a=z;a.c=r}l&&(u.$$events=l),y&&k(s,null),D=d,_=t(s,u)||{},D=!0,y&&(W.nodes.end=f),r&&q()}),()=>{for(var a of g){e.removeEventListener(a,h);var o=i.get(a);--o===0?(document.removeEventListener(a,h),i.delete(a)):i.set(a,o)}T.delete(m),p.delete(_)}));return p.set(_,L),_}let p=new WeakMap;function x(t){const e=p.get(t);e==null||e()}export{D as a,Z as h,G as m,X as s,x as u};
